server.port=8081

spring.datasource.url=jdbc:mysql://localhost:3306/test1
# Database credentials should be set as environment variables in production
# For development, you can set them here or use environment variables
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:your_password}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration

# Email Configuration
# For Gmail, you need to use an App Password, not your regular password
# Generate one at: https://myaccount.google.com/apppasswords
# Set the actual values using environment variables:
# MAIL_USERNAME and MAIL_PASSWORD
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME:akkashhpasupuleti@gmail.com}
spring.mail.password=${MAIL_PASSWORD:pvyr gnxy qzcs veuw}

# If you're using Gmail, make sure to:
# 1. Enable 2-Step Verification: https://myaccount.google.com/security
# 2. Generate an App Password: https://myaccount.google.com/apppasswords
# 3. Set the environment variables:
#    - MAIL_USERNAME=your.email@gmail.com
#    - MAIL_PASSWORD=your-app-password

# SMTP properties - using STARTTLS instead of SSL
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# Timeouts
spring.mail.properties.mail.smtp.timeout=30000
spring.mail.properties.mail.smtp.connectiontimeout=30000
spring.mail.properties.mail.smtp.writetimeout=30000

# Debug
spring.mail.properties.mail.debug=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com

spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB
spring.servlet.multipart.file-size-threshold=2KB

spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.cache=false

# Logging configuration
logging.level.root=INFO
logging.level.com.dailycodework.excel2database=INFO
logging.level.com.dailycodework.excel2database.service.StudentService=WARN
logging.level.org.springframework.jdbc.core=WARN
# Email-related logging
logging.level.com.dailycodework.excel2database.service.EmailService=DEBUG
logging.level.org.springframework.mail=DEBUG
logging.level.javax.mail=DEBUG
logging.level.com.sun.mail=DEBUG
